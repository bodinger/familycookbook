<%- actions({ 'Add shopping list' => url(:shoppinglist, :new) }) %>

<div class="panel panel-small">
    <div class="panel-body">
        <h3><span class="label label-default col-md-12">Shopping Lists</span></h3>
    </div>
</div>

<table class="table">
    <thead>
        <th>
            Type
        </th>
        <th>
            Date & Name
        </th>
        <th width="35%">
            Action
        </th>
    </thead>
    <tbody>
    <% @items.each do |item| %>
        <tr>
            <td>
                <%- if item[:type] == 'MTMD::FamilyCookBook::ShoppingList' %>
                    <%= list_icon('Shopping List', {}) %>
                <% else %>
                    <%= menu_icon('Menu plan', {}) %>
                <% end %>
            </td>
            <td>
                <strong>
                    <%# link_to 'Show', url(:shoppinglist, :show, id: item.id) %>
                    <%= item[:date_range].begin.strftime('%d.%m.%Y')+' - '+item[:date_range].end.strftime('%d.%m.%Y') %> <%= item[:name] %>
                </strong>
            </td>
            <td>
                <%- if item[:type] == 'MTMD::FamilyCookBook::Menu' %>
                    <%= plus_link('Create from menu plan', :href => url(:shoppinglist, :create_from_menu, :menu_id => item[:id]), :class => 'btn btn-warning btn-xs pull-left mg-right') %>
                <% else %>
                    <%= edit_link('Edit', :href => url(:shoppinglist, :edit, :id => item[:id]), :class => 'btn btn-primary btn-xs pull-left mg-right') %>
                    <%= eye_open_link('Show', :href => url(:shoppinglist, :show, :id => item[:id]), :class => 'btn btn-success btn-xs pull-left mg-right') %>
                    <%= trash_link('Delete', :href => url(:shoppinglist, :destroy, :id => item[:id]), :method => :delete, :class => 'btn btn-danger btn-xs pull-left mg-right', :confirm => 'Do you really want to delete this shopping list? Any edited list items will be deleted!') %>
                    <%= edit_link('Single edit', :href => url(:shoppinglist, :edit_single, :id => item[:id]), :class => 'btn btn-info btn-xs pull-left') %>
                <% end %>


            </td>
        </tr>
    <% end %>
    </tbody>
</table>
